#+title: Frequency Generator using OpAmp
#+author:  Ved Rudani
#+author:  Vijay Panchal\






#+BIBLIOGRAPHY: documentaion plain option:-d
#+LaTeX_HEADER: \usepackage{listings}
#+LaTeX_HEADER: \usepackage{xcolor}
#+LaTeX_HEADER: \lstset{language=Python,backgroundcolor=\color{black!5}, basicstyle=\footnotesize\ttfamily, columns=fullflexible, breaklines, frame= tb}
# #+LateX_HEADER: \newcommand\pythonstyle{\lstset{language=Python,basicstyle=\ttm,morekeywords={self,def, if, else, for, while, return},keywordstyle=\ttb\color{deepblue},emph={MyClass,__init__},emphstyle=\ttb\color{deepred},stringstyle=\color{deepgreen},frame=tb,showstringspaces=false}}

\pagebreak

\begin{center}
\Large
\textbf{Function Generator using OpAmp}


\vspace{0.9cm}
\normalsize
\textbf{Ved Rudani}


\textbf{Vijay Panchal}


\vspace{1.5cm}


\colorbox{bg1}{
\begin{minipage}{1\textwidth}\centering
        \vspace{1.5cm}
        \Large
        \textbf{Abstract}

        \begin{minipage}{0.7\textwidth}
        \vspace{.8cm}
        \normalsize
        Function generator are useful tools in academia and industries. Mostly they are avalaible in market. In this project we are trying to understand and study simple frequency generators with use of OpAmp. We usec generic OpAmp Ic LM741, which is single package and easy to understand with benefit of extensive acedemic experince.
        \vspace{1.5cm}
        \end{minipage}

\end{minipage}}

\vspace{1.5cm}
\noindent
\color{grey} \rule{\linewidth}{0.5mm}
\end{center}


 
* Introduction
Function generator is circuit which generates periodic function with predictable frequencies with respect to time. Here, we will study only mono frequency generator but it can also generate superposed functions. Signals from Function generator comes in many forms but mostly it is either sinusoidal or square wave. We will generate sinusoidal, square and triangle wave as output. 

We used basic circuits with few modification as our need. With use of IC LM741 we used OpAmp in our circuit. 

For Sinusoidal wave we used Wein Bridge circuit, which is easy to understand and impliment. Also, wein bridge circuit is quite less noice compare to it's compitition RC phase shift Oscillator, which have more component than Wein bridge and more complicated to understand. For Square wave we used standard astable multivibrator cicuit, with little modification. Lastly, Triangle wave can be made from just attaching Integrator to our square wave output with some regulation.

Now, each circuit ( this wave form generator) has different block, basically we divided whole circuit in there block. Main work for us is to combine all of this. We wandered across CMOS families, BJTs but finally we sattled into physical swith which is coupled for power transmission and also for output change.

* Blocks


As told in introduction each circuit is in their blocks. First block for sine wave which is nothing but wien bridge circuit, second is sqaure which is astable multivibrator, third for triangular wave which integrator attached to second block (square wave block).

-----  
**figure of blocks**
-----

** Block 1: Sine wave generator


In first block, we have basic circuit of wein bridge. You can see in figure 1. In center we have OpAmp (IC LM741). This is amplifier with RC component attached with input and output. Here, at one end there is RC parallel component and at other end series RC component. 

#+CAPTION: Wein bridge circuit
#+NAME: wein bridge
#+ATTR_LATEX:  :width .8\textwidth
[[./imgs/astable.png]]

Here, frequency is given by, 

#+NAME: eqn:1
\begin{equation}
  f =\frac{1}{2 \pi RC}
\end{equation}

For sustaing oscilation gain must be 3 and for non inverting amplifier gain, 

#+NAME: eqn:2
\begin{equation}
  A = 1+\frac{R_{F}}{R_{1}} = 3
\end{equation}

So, we get relation $R_{F}=R_{1}$


#+CAPTION: Our block 1, which consinst of IC741CP
#+NAME: astablereal
#+ATTR_LATEX:  :width 0.8 \textwidth
[[file:imgs/astablereal.png]]


Here, you can see our block circuit, at the end we attached two zener diode for regulation to the output. As you can see OpAmp in IC LM741 package. Power supply given from  4 and 7 to 12V and -12V. We chose $R_{1}=12k\Omega$. By relation of $R_{1}$ and $R_{F}$, we got $R_{F}=24k\Omega$.

For frequency range we used Potential with max range of $100k\Omega$. So, lowest and maximum frequency whould be (with constant capacitance at $50nF$),

#+NAME: eqn:3
\begin{equation*}
  f_{min} = \frac{1}{2\pi\times100k\times 10n} \approx 159 hz
\end{equation*}

#+NAME: eqn:4
\begin{equation*}
  f_{max} = \frac{1}{2\pi\times100\times 10n} \approx 159k hz
\end{equation*}

So, frequency range would be $159 hz$ to $159k hz$


** Block 2: Square wave generator

As square wave generator we have basic astable multivibrator. This circuit works on scenario where output will have to stable state and it will swing between them, hence the name. When circuit is $+V_{sat}$, we will have high signal output and when circuit is $-V_{sat}$, we will have low signal output. So, we will have square wave as desired. The circuit for astable multivibrator is shown below.

-----
**astable multivibrator**
-----

Here, frequency would be, 

#+NAME: eqn:5
\begin{equation}
  f =\frac{1}{2 RC ln(\frac{2R_{1}+R_{2}}{R_{2}})}
\end{equation}

If, we take $R_{2}=1.16R_{1}$ then, 

#+NAME: eqn:6
\begin{equation}
  f =\frac{1}{2RC}
\end{equation}

-----
**our block is like this**
-----

Here, we took $R_{1} = 10k\Omega$ and $R_{2} = 11.6k\Omega$ such that $\frac{R_{2}}{R_{1}}=1.16$. Also, you can see that we employed $100k\Omega$ in input terminals for accurate and reliable signal.

Frequency range would be of (for constant capacitance at $50nF$),

#+NAME: eqn:7
\begin{equation*}
  f_{min} =\frac{1}{2\times 100k\times 50n} \approx 100 hz
\end{equation*}

#+NAME: eqn:7
\begin{equation*}
  f_{max} =\frac{1}{2\times 100 \times 50n} \approx 100 khz
\end{equation*}

 
** Block 3: Triangluar Wave generator

We basically extend block 2 with integrator circuit. Which would give triangular wave as intended. Here, this integrator circuit differs from basic circuit that $100k\Omega$ as feedback resister is joined. Which would give better stability and accurate output. Circuit diagram is shown below,

-----
**triangle wave generator**
-----

Here, $R_{4}$ have to be $10R_{3}$. Frequency is give by same relation as block 2.

----
**our block**
----




* connection and switching
